var m_customerBo = require('app/customer/customerBo.js');
var m_dao_daoSet = require('dao/daoSet.js');
var m_bo_boSet = require('bo/boSet.js');
var m_controller = require('server/defaultController.js');
var m_app_customer_customerDao = require('app/customer/customerDao.js');
var m_app_customer_customerBo = require('app/customer/customerBo.js');

function edit(request, response, responseCallback) {
    var customerDao = m_app_customer_customerDao.customerDao(request.db);
    var customerBo = m_customerBo.customerBo(customerDao);
    return m_controller.edit(customerBo, request, response, responseCallback);
}

function list(request, response, responseCallback) {
    console.log('list request db', request.db);
    var customerDao = m_app_customer_customerDao.customerDao(request.db);
    var daoSet = m_dao_daoSet.daoSet(request.db, customerDao.table(), m_app_customer_customerDao.customerDao);
    var boSet = m_bo_boSet.boSet(daoSet, m_app_customer_customerBo.customerBo);
    return m_controller.list(boSet, request, response, responseCallback);
}

function saveRow(request, response, responseCallback) {
    var customerDao = m_app_customer_customerDao.customerDao(request.db);
    var customerBo = m_customerBo.customerBo(customerDao);
    return m_controller.saveRow(customerBo, request, response, responseCallback);
}

function saveField(request, response, responseCallback) {
    var customerDao = m_app_customer_customerDao.customerDao(request.db);
    var customerBo = m_customerBo.customerBo(customerDao);
    return m_controller.saveField(customerBo, request, response, responseCallback);
}

function count(request, response, responseCallback) {
    var customerDao = m_app_customer_customerDao.customerDao(request.db);
    var customerBo = m_customerBo.customerBo(customerDao);
    return m_controller.count(customerBo, request, response, responseCallback);
}

exports.edit = edit;
exports.list = list;
exports.saveField = saveField;
exports.saveRow = saveRow;
exports.count = count;
