var bjoo = require('BJOObject.js');

function Index(name, fields) {
    bjoo.BJOObject.apply(this);
    this._className = 'sql.Index';
    this._name = name;
    this._fields = {};
    if ( typeof(fields) !== 'undefined' ) {
        this.fields(fields);
    }
}


Index.prototype.name = function(name) {
    if ( typeof(name) !== 'undefined' ) {
        this._name = name;
        return this;
    }
    return this._name;
};

Index.prototype.field = function(nameOrField) {
    if ( typeof(nameOrField.className) !== 'undefined' && nameOrField.className() === 'sql.Field') {
        this._fields[nameOrField.name()] = nameOrField;
        return this;
    }
    return this._fields[nameOrField];
};

Index.prototype.fields = function(fields) {
    if ( typeof(fields) !== 'undefined' ) {
        _.each(fields, function(f) { this.field(f); }, this);
	return this;
    }
    return this._fields;
};

function index(name) { return new Index(name); }

exports.Index = Index;
exports.index = index;
